# ショートコード仕様（作成中）
固定ページ、Layout、Elementなどの表示表示ファイル表示ファイルに\[Example.methodName\]のような形式のタグを埋め込むことでbaserCMSのHelperを呼び出すことが可能となる。

## 利用方法
ここではプラグインに追加する方法を紹介する。 

### 設定ファイルにショートコードを登録する。 
/Plugin/Example/Config/setting.php
```
$config['BcShortCode']['Example'] = [
	'Example.methodName'
];
```

### Helperを準備する 
/Plugin/Example/View/Helper/ExampleHelper.php
```
<?php
class ExampleHelper extends AppHelper {
	public $helpers = ['BcBaser', 'BcHtml'];
	public function methodName() {
		return $this->BcBaser->getElement('Example.example_output');
	}
}
```
ヘルパにてreturnされた文字列を\[Example.methodName\]の箇所に表示する。 
ここではExample/Element/example_output.phpファイルをelementの機能おｗ利用して表示する例となっている。 

### Helperを読み込む
利用ショートコードが呼び出すHelperを利用箇所にて読み込む必要がある。
簡単方法は、ExampleプラグインのイベントにてControllerEventを作成し、全てコントローラでヘルパーを利用出来るようすることで利用が行える。
/Plugin/Example/Event/ExampleControllerEvent.php
```
<?php
class ExampleControllerEventListener extends BcControllerEventListener {
	public $events = ['initialize'];
	public function initialize(CakeEvent $event) {
		$Controller = $event->subject();
		$Controller->helpers[] = 'Example.Example';
	}
}
```

以上で利用可能となる。

