# プラグイン基本仕様
baserCMSに簡単に機能追加できる機能。

## プラグインフォルダ
プラグインの各プログラム群を配置するフォルダは、キャメルケースとする。

```
例）
* Mail
* Uploader
* IpLimitter
```

## プラグイン基本ファイル
### プラグイン情報ファイル仕様
プラグイン名や、説明文、作成者等、プラグイン情報を定義する。

#### 配置場所
`/app/Plugin/PluginName/config.php`

#### 定義可能変数

* $title = 'プラグイン名';
* $description = '説明文';
* $author = '作成者';
* $url = '作成者リンク';
* $adminLink = '管理画面リンク';
* $installMessage = 'インストール画面に表示したいメッセージ';

#### 注意事項

* 上記変数にて、存在しない変数は処理をスキップする。
* PHPファイルとして読み込まれる為、先頭にPHPの開始タグが必要

### バージョンファイル仕様
プラグインのバージョンを明記したファイル。ファイルの１行目にバージョン番号を明記する。
バージョン番号は、アップデーターの判定に利用される。

#### 配置場所
`/app/Plugin/PluginName/VERSION.txt`

### ライセンスファイル
プラグインのライセンスを定義する。配置しなくてもシステムに影響はない。

#### 配置場所
`/app/Plugin/PluginName/LICENCE.txt`

## コントローラー
コンテンツを提供するプラグインの場合、`BcPluginAppController`を継承する事で、次の機能の恩恵を受ける事ができる。

* プラグインコンテンツエイリアス機能利用時にコンテンツを特定するIDを取得する事ができる。

## モデル
モデルを開発する場合、`BcPluginAppModel` を継承する事で、次の機能の恩恵を受ける事ができる。

* データベースの接続において、DATABASE_CONFIG::plugin を利用する事できる。  
	（＝プラグイン用のテーブルプレフィックスが利用できる）

## アセットファイル
画像、Javascript、CSS 等のアセットファイルの設置は、CakePHPの仕様に準拠する。

* プラグインにパッケージングするアセットファイルは、`/PluginName/webroot/` ディレクトリ内に配置する
* 例えば画像の参照は、`http://{baserCMS設置URL}/plugin_name/img/file_name.gif` で参照する

