# サブサイト編集仕様

## 基本仕様
- URLにおいて識別名称とは別の名称（エイリアス）が利用できる。（例：smartphone → sp）
- メインサイトを指定して親子関係を設定する事ができる。
- デバイスを設定してエージェント識別を行う事ができる
- 言語を設定してブラウザの言語識別を行う事ができる

## 各項目説明
- 識別名称
  - サブサイトを識別する為の名称。WebサイトのURLの第一階層として設定される。
  - テンプレートフォルダに識別名称のフォルダを配置しその中にテンプレートを配置するとそのファイルを優先して読み込む事ができる。
  - ハイフン（-）、アンダースコア（_）を許容する。	
- エイリアス
  - 識別名称とは別に、WebサイトのURLの第一階層として別名を設定したい場合に利用する。
  - ハイフン（-）、スラッシュ（/）、アンダースコア（_）、ドット（.）を許容する
- サイト名
  - 管理システムでの表示に利用する名称。
- サイトタイトル
  - Webサイトのタイトルタグに反映するタイトル。
  - 一番親となるサイトは、システム設定にて設定する。
- メインサイト
  - コンテンツを階層構造で連携する場合に親となるサイトを選択する。
- エイリアスを利用してメインサイトと自動連携する
  - 親サイトのツリー構造に合わせて、自動的に子サイトにエイリアスを作成する。
  - 同一コンテンツを利用したスマートフォンサイト制作等で利用する。
- デバイス
  - ユーザーエージェントによるサイト判定に利用する。
  - /lib/Baser/Config/setting.php に設定が記載されており（BcAgent）、/app/Config/setting.php にて設定を上書きする事ができる。
- 言語
  - ブラウザの言語設定によるサイト判定に利用する。
  - /lib/Baser/Config/setting.php に設定が記載されており（BcLang）、/app/Config/setting.php にて設定を上書きする事ができる。
- メインサイトと同一URLでアクセス
  - サブサイトを利用する場合に、親サイトと同一のURLでアクセスする場合にチェックを入れる。
  - サイトの判定には、ユーザーエージェント、または、ブラウザ言語設定を利用する。
- メインサイトから自動的にリダイレクト
  - メインサイトと別URLでアクセスする場合、ユーザーエージェント、または、ブラウザ言語設定により親サイトと同一階層のコンテンツに自動リダイレクトする場合にチェックを入れる。 
- 全てのリンクをサブサイト用に変換する
  - サブサイトへのアクセス時、エイリアスにより同一コンテンツを利用する場合、サイト内リンクをサブサイト用に変換する
  - （例）/about → /s/about
- テーマ
  - サブサイトごとに別のテーマを設定する場合に指定する。
- 公開状態
  - サブサイトの公開状態を設定する事ができる。	
	
## 追加機能仕様
- 保存時に、コンテンツ管理側にサイトルートとなるフォルダを自動生成する。

## 編集機能仕様
- 保存時に、コンテンツ管理側のサイトルートとなるフォルダのタイトル、公開状態を更新する。
- 一番親となるサイトを更新する場合は、サイト基本設定で変更する。
- サイトルートフォルダでは、タイトルや公開状態は変更する事はできず、サブサイト編集から変更する。

## 削除機能仕様
- 削除時には、関連するコンテンツは、全て、メインサイトに関連する状態に更新し、ゴミ箱へ移動する。


	




